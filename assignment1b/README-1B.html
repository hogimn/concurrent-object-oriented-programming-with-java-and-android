<html>

<title>Java Threads and Synchronizers (Assignment 1 - Part B)</title>

<BODY text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<HR>
<h3>Java Threads and Synchronizers (Assignment 1 - Part B)</h3>

<HR width=50% align=left>
<H4>Objectives and Overview of the Assignment</H4>

<P>The objective of the second part of this assignment is to learn how
to synchronize Java threads via a semaphore and a spin-lock.  Videos
describing Java Semaphores appear <A
HREF="https://www.youtube.com/watch?v=xsQlNd3_kKU&t=5s&index=18&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3">here</a>
and <A
HREF="https://www.youtube.com/watch?v=ha9TNSgbj38&index=19&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3">here</a>.
Likewise, a video describing spin-locks appears <A
HREF="https://www.youtube.com/watch?v=ATrG7A5VWRE&index=14&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3">here</a>.
I recommend you watch these videos to ensure you understand these Java
synchronizers.  Naturally, we'll cover these topics in class, as
well. </P>

<P>In the second part of this assignment you'll use a semaphore and a
spin-lock to enhance the multi-threaded implementation of the
PalantiriSimulator app from <A
HREF="https://github.com/douglascraigschmidt/CS5254/tree/master/assignment1a/">Assignment
1A</A>. Assignment 1B focuses on the PalantiriManager, which is used
to restrict the number of beings from Middle-Earth who can
concurrently gaze into a fixed number of palantiri.  If you're not yet
a fan of Tolkien's <A
HREF="https://en.wikipedia.org/wiki/The_Lord_of_the_Rings">Lord of the
Rings</A> trilogy, you should drop everything you're doing and read
about palantiri <A
HREF="http://en.wikipedia.org/wiki/Palantir">here</a>.</P>

<HR width=50% align=left>
<H4>Assignment Structure and Functionality</H4>

<P>The PalantiriSimulator app is packaged as a project using the
latest version of Android Studio.  This app is written in both Kotlin
and Java and demonstrates <EM>many</EM> Android capabilities.  For the
purposes of Assignment 1B, however, you just need to focus on the
following three folders:

<UL>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/spinLockHashMap/">simulator/managers/palantiri/spinLockHashMap</A>,
which contains the skeleton(s) you'll need to fill in, as described <A
HREF="#description">below</A>.</LI> <P>

<LI> <A HREF="app/src/test">app/src/test</A>, which is a set of unit
tests that exercise many PalantiriSimulator features and can be used
to help test the functionality you implement for the assignment.</LI> <P>

<LI> <A HREF="app/src/androidTest">app/src/androidTest</A>, which is
an Android Studio instrumentation test that runs your app
automatically.</LI><P>

</UL>

<P>To compile this code you need to use the provided Android Studio
project.  You can run this project by clicking the green "Run 'app'"
button in the Android Studio IDE, which should automatically select an
Android Emulator to run, assuming you have one created. The app's
minimum API is 29, so you'll need to select an emulator that uses an
API >= 29, though I recommend you use API 30. If you don't already
have an emulator created you can create it by clicking on the "AVD
Manager" button in the Android Studio IDE.</>

<HR width=50% align=left>
<A name="description">
<H4>Program Description and "TODO" Tasks</H4>

<P>In addition to integrating the updated <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/RunnableThreadsMgr.java">RunnableThreadsMgr.java</A>
and <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/runnableThreads/SimpleBeingRunnable.java">SimpleBeingRunnable.java</A>
files from your Assignment 1A solution, you'll need to modify several
files containing the skeleton Java code by completing the "TODO - You
fill in here" tasks to provide a working solution.  DO NOT CHANGE THE
OVERALL STRUCTURE OF THE SKELETON - just fill in the "TODO" tasks (and
do NOT delete the "TODO" tags)!!!  In particular, you'll need to
finish implementing the following "TODO" tasks for this assignment in
the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/spinLockHashMap">spinLockHashMap</A>
folder: </P>

<UL>

<LI><A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/spinLockHashMap/SpinLockHashMapMgr.java">SpinLockHashMapMgr.java</A>.
You need to complete the "TODO" tasks in various methods to implement
a PalantiriManager via a Semaphore, the appropriate type of SpinLock,
and a HashMap.</LI> <P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/spinLockHashMap/SpinLock.java">SpinLock.java</A>
If you're taking this class for undergraduate credit you need to
complete the "TODO" tasks in various methods to emulate a "compare and
swap"-style spin lock with non-recursive semantics.</LI> <P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/spinLockHashMap/ReentrantSpinLock.java">ReentrantSpinLock.java</A>
If you're taking this class for graduate credit you need to complete
the "TODO" tasks in various methods to emulate a "compare and
swap"-style spin lock with recursive semantics.</LI> <P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/utils/Student.kt">Student.kt</A>.
You need to complete the "TODO" task to set the <CODE>type</CODE>
field to either <CODE>Graduate</CODE> or <CODE>Undergraduate</CODE>,
depending on which version of the assignment that you're
implementing.</LI> <P> 

</UL>

<P>Your app will be considered correct if it (1) passes all the unit
and instrumentation tests and (2) all beings successfully complete all
their N iterations.  A correct simulation should restrict the number
of gazing Beings to the number of Palantiri.  In other words, if there
are four Palantiri in the simulation, then only four Beings should
ever be ``gazing'' on the screen at a time.</P>

<P>When the simulation is running, the app view will display visual
feedback to show Palantiri and Being states, as well as the progress
of their gazing iterations.  If your assignment implementation is
correct---and does not throw any exceptions---then the app title bar
labels will appear <EM>green</EM> when the simulation completes. If
your solution is not implemented correctly---or throws an
exception---then <EM>red</EM> title bar labels will be displayed when
the simulation completes.</P>

</UL>

<HR width=50% align=left>
<A NAME="gradwork">
<H4>Additional "TO DO" Tasks for Graduate Students</H4>

<P>Graduate students (or students who are taking this course for
graduate credit) must perform the following additional task(s):</P>

<UL>

<LI> Enhance the <CODE>SpinLockHashMapMgr.java</CODE> file to use Java
functional programming features (e.g., method references and/or lambda
expressions).  Likewise, if you are familiar with the Java Streams
framework please feel free to apply it to your solution.

</UL>

<P>Undergraduates are welcome to implement these methods/features, but
it's not required.</P>

<HR width=50% align=left>
<H4>Skeleton Code</H4>

<P>Skeleton code for this assignment is available from my <A
HREF="https://github.com/douglascraigschmidt/CS5254/tree/master/assignment1b/">GitHub</a>
account.  Once you've setup your <A
HREF="https://about.gitlab.com/">GitLab</a> account you can pull this
skeleton code in your repository, read it carefully, and complete the
"TODO" markers. The additional work required by graduate students is
clearly marked.</P>

<hr width=50% align=left> <h4>Unit Tests</h4>

<p> Unit tests in the <A HREF="app/src/test">app/src/test</A> folder
are provided to increase our confidence that your implementation is
working as expected.  It's essential that you use the Android Studio
GUI to run these unit tests locally on your computer, as described <A
HREF="https://developer.android.com/training/testing/unit-testing/local-unit-tests.html#run">here</a>.
As usual, testing only demonstrates the presence of bugs, not their
absence, so don't rely solely on the unit tests to detect problems in
your code.  However, make sure to run these tests prior to submitting
your solution and seek help if you have questions about why any of the
tests fail.  </p>

<HR width=50% align=left>
<H4>Concluding Remarks</H4>

<P>This assignment is designed to help you get familiar with writing
multi-threaded programs using the Android Studio IDE and core Java
synchronization mechanisms, which complement the core Java
multi-threading mechanisms we covered in Assignment 1A.  It doesn't
require you to program with more advanced Java synchronizers or any
advanced Java and Android concurrency frameworks, which we'll cover in
upcoming assignments.</P>

</body>
</html>
