<html>

<title>Java Fork-Join Framework and Readers/Writer Synchronizers (Assignment 4 - Part A)</title>

<BODY text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<HR>
<h3>Java Fork-Join Framework, Barrier Synchronizers, and Readers/Writer Synchronizers (Assignment 4 - Part A)</h3>

<HR width=50% align=left>
<H4>Objectives and Overview of the Assignment</H4>

<P>The objective of the first part of this assignment is to learn how
to use the Java Fork-Join framework's common fork-join pool and its
ManagedBlocker interface, as well as the Java CyclicBarrier and
CountDownLatch barrier synchronizers.  I recommend you watch the
following videos to ensure you understand all these Java classes:

<UL> 

<LI> A video describing the common fork-join pool appears <A
HREF="https://www.youtube.com/watch?v=S3LKo7NZ1s4&list=PLZ9NgFYEMxp4n3lpFG0LBnpKhwTkUc6_i&index=126">here</a>.

<LI> Videos describing the ManagedBlocker interface appear <A
HREF="https://www.youtube.com/watch?v=TDVEdrzyI8I&list=PLZ9NgFYEMxp4n3lpFG0LBnpKhwTkUc6_i&index=127">here</a>
and <A
HREF="https://www.youtube.com/watch?v=lq3NoHGMsVo&list=PLZ9NgFYEMxp4n3lpFG0LBnpKhwTkUc6_i&index=128">here</A>.

<LI> Videos describing CountDownLatch and CyclicBarrier appear <A HREF="https://www.youtube.com/watch?v=10Tpe0K80Uc&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&index=37">here</A> and <A HREF="https://www.youtube.com/watch?v=ARtMckXrUNs&list=PLZ9NgFYEMxp4p5piHxajQXRRlsyDCLvI3&index=38">here</A>, respectively.
</UL>

Naturally, these topics are also covered in class. <P>

In this part of the assignment you'll use the Java common fork-join
pool and its ManagedBlocker interface to create a dynamically
resizable pool of threads that allow Beings from Middle-Earth to
concurrently gaze into a given number of Palantiri.  Likewise, you'll
use a CyclicBarrier and a CountDownLatch to coordinate these Beings so
they start and stop fairly and efficiently, respectively.

<HR width=50% align=left>
<H4>Assignment Structure and Functionality</H4>

<P>This PalantiriSimulator app is packaged as a project using the
latest version of Android Studio.  The app is written in both Kotlin
and Java and demonstrates <EM>many</EM> Android capabilities.  For the
purposes of Assignment 4A, however, you only need to be aware of the
following three directories:

<UL>

<LI> <A HREF="
app/src/main/java/edu/vandy/simulator/managers/beings/forkJoinPool">simulator/managers/beings/forkJoinPool</A>,
which contains the skeleton(s) you'll need to fill in, as described <A
HREF="#description">below</A>. <P>

<LI> <A HREF="app/src/test">app/src/test</A>, which is a set of unit
tests that exercise many PalantiriSimulator features and can be used
to help test the functionality you implement for the assignment. <P>

<LI> <A HREF="app/src/androidTest">app/src/androidTest</A>, which is
an Android Studio instrumentation test that runs your app
automatically.  <P>

</UL>

<P>You'll also need to integrate your enhanced solution for the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/palantiri/concurrentMapFairSemaphore/ConcurrentMapFairSemaphoreMgr.java">ConcurrentMapFairSemaphoreMgr.java</A>
folder from <A
HREF="https://github.com/douglascraigschmidt/CS254/tree/master/assignments/assignment3b/">Assignment
3B</a> and use it as implementation of the PalantiriManager for
Assignment 4A (please address all my comments from Assignment 3B in
your Assignment 4A solution). </P>

<P>To compile this code you need to use the provided Android Studio
project.  You can run this project by clicking the green "Run 'app'"
button in the Android Studio IDE, which should automatically select an
Android Emulator to run, assuming you have one created. The app's
minimum API is 29, so you will need to select an emulator that uses an
API >= 29, though I recommend you use API 30.  If you don't already
have an emulator created you can create it by clicking on the "AVD
Manager" button in the Android Studio IDE.</P>

<HR width=50% align=left> <A name="description"> <H4>Program
Description and "TODO" Tasks</H4>

<P>You'll need to modify several files containing the skeleton Java
code by completing the "TODO - You fill in here" tasks to provide a
working solution.  DO NOT CHANGE THE OVERALL STRUCTURE OF THE SKELETON
- just fill in the "TODO" tasks (and do NOT delete the "TODO" tags)!!!
In particular, you'll need to finish implementing the following "TODO"
tasks for this assignment in the <A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/forkJoinPool">forkJoinPool</A>
folder: </P>

<UL>

<LI> <P><A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/forkJoinPool/ForkJoinPoolMgr.java">ForkJoinPoolMgr.java</A>.
You'll need to complete the "TODO" tasks in various methods to
implement a BeingManager via a dynamically-resizable thread pool using
the Java common fork-join pool and its ManagedBlocker interface. </P>

<LI> <P><A
HREF="app/src/main/java/edu/vandy/simulator/managers/beings/completionService/BeingBlocker.java">BeingBlocker.java</A>.
You'll need to complete several methods in this class, one of which
should be very familiar by now, but several of which are brand new.
</P>

<LI> <A
HREF="app/src/main/java/edu/vandy/simulator/utils/Student.kt">Student.kt</A>.
You need to complete the "TODO" task to set the <CODE>type</CODE>
field to either <CODE>Graduate</CODE> or <CODE>Undergraduate</CODE>,
depending on which version of the assignment that you're
implementing.</LI> <P>

</UL>

<P>Your app will be considered correct if it (1) passes all the unit
and instrumentation tests and (2) all beings successfully complete all
their N iterations.  A correct simulation should restrict the number
of gazing Beings to the number of Palantiri.  In other words, if there
are four Palantiri in the simulation, then only four Beings should
ever be ``gazing'' on the screen at a time.</P>

<P>When the simulation is running, the app view will display visual
feedback to show Palantiri and Being states, as well as the progress
of their gazing iterations.  If your assignment implementation is
correct---and does not throw any exceptions---then the app title bar
labels will appear <EM>green</EM> when the simulation completes. If
your solution is not implemented correctly---or throws an
exception---then <EM>red</EM> title bar labels will be displayed when
the simulation completes.</P>

<HR width=50% align=left> <A NAME="gradwork"> <H4>Additional "TO DO"
Tasks for Graduate Students</H4>

<P>Graduate students (or students who are taking this course for
graduate credit) must perform the following additional task(s):</P>

<UL>

<LI> Enhance the <CODE>ForkJoinPoolMgr.java</CODE> file to use Java
method references and/or lambda expressions whereever possible.

</UL>

<P>Undergraduates are welcome to implement these methods/features, but
it's not required.</P>

<hr width=50% align=left> <h4>Unit Tests</h4>

<p> Unit tests in the <A HREF="app/src/test">app/src/test</A> folder
are provided to increase our confidence that your implementation is
working as expected.  It's essential that you use the Android Studio
GUI to run these unit tests locally on your computer, as described <A
HREF="https://developer.android.com/training/testing/unit-testing/local-unit-tests.html#run">here</a>.
As usual, testing only demonstrates the presence of bugs, not their
absence, so don't rely solely on the unit tests to detect problems in
your code.  However, please run these tests prior to submitting your
solution and make sure to seek help if you have questions about why
any of the tests fail.  </p>

<HR width=50% align=left> <H4>Skeleton Code</H4>

<P>Skeleton code for this assignment is available from my <A
HREF="https://github.com/douglascraigschmidt/CS254/tree/master/assignment4a/">GitHub</a>
account.  Now that you've setup your <A
HREF="https://about.gitlab.com/">GitLab</a> account please pull this
skeleton code in your repository, read it carefully, and complete the
"TODO" markers. </P>

<HR width=50% align=left> <H4>Concluding Remarks</H4>

<P>This part of the assignment is intended to deepen your knowledge of
writing concurrent Java programs using the common fork-join pool and
its ManagedBlocker interface in conjunction with several popular Java
barrier synchronizers.  This solution enhances the Java
ExecutorService and ExecutorCompletionService frameworks covered in
earlier assignments by eliminating the need for handling futures and
ensuring that all Beings start gazing at the same time.</P>

</body>
</html>
